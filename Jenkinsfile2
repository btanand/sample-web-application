#!/usr/bin/env groovy

@Library('shared-library@master') _ //master or whatever branch

pipeline{
	
	agent any
	
	tools {
        maven 'apache-maven-3.6.0'
       
    	}
        
        stages{
		stage ('Initialize') {
        	    steps {
               		 bat """
                    		set PATH=%PATH%
                    		set M2_HOME=%M2_HOME%
				echo %PATH%
				echo %M2_HOME%
                	    """
           		 }
		}
              stage('maven build'){
                  steps{
                      script{
		    	      bat """  abc = stageResult 
			      	echo %abc% """
			      //bat "mvn clean install"
                      	  }
               	     }  
                 }	
                 
                 stage ('Check logs') {
                    steps {
                        filterLogs ('WARNING', 1)
                    }
                }
		
           }	       	     	         
}
